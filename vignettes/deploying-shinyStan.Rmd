---
title: "Deploying to shinyapps.io"
author: "Jonah Gabry"
date: "`r Sys.Date()`"
output: 
  rmarkdown::html_vignette:
    toc: true    
vignette: >
  %\VignetteIndexEntry{Deploying to shinyapps.io}
  %\VignetteEngine{knitr::rmarkdown}
  %\usepackage[utf8]{inputenc}
---

### About

Create an app hosted on RStudio's ShinyApps service (shinyapps.io) for each of your models.

Note: R users who don't use RStudio's IDE can still deploy shinyStan apps to shinyapps.io. 

### Step 1: ShinyApps account

**Signup**

To deploy your app to RStudio's shinyapps.io you will need a ShinyApps account. If you don't already have one you can sign up at http://www.shinyapps.io/. 

**Setup**

After signing up for a ShinyApps account, follow the instructions for setting up your account on your local system using the `setAccountInfo` function in the `shinyapps` package.  


### Step 2: Download `shinyStanApps` library

Download the `shinyStanApps` library. 


### Step 3: Use `deploy_shinystan` to deploy your app to shinyapps.io

The `deploy_shinystan` function will deploy a shinyStan app unique to your model to RStudio's ShinyApps service.

For the example below assume that 

- `sso` is the `shinystan` object you want to use
- the username for your ShinyApps account (from Step 1) is `username`
- the path to the `shinyStanApps` library (from Step 2) is `Desktop/shinyStanApps`
- the name you want to use for the app is `MyModel`. 

You can deploy the app with the commands

```
deploy_shinystan(sso, appDir = "Desktop/shinyStanApps", appName = "MyModel", account = "username")
```

If you have a vector of observations `y` that you want to use for shinyStan's graphical posterior predictive checks then you can also specify the `ppcheck_data` argument

```
deploy_shinystan(sso, appDir = "Desktop/shinyStanApps", appName = "MyModel", account = "username", ppcheck_data = y)
```

If you've specified the `ppcheck_data` argument you can also use the `ppcheck_yrep` argument to tell shinyStan the name of the parameter/quantity in your model containing the posterior predictive simulations/replications so that it is preselected as the parameter to use for doing the graphical posterior predictive checks. This is never required because you can also set this manually while using the app, but it is helpful if you want other people to view your model online because it avoids the need to communicate to them which parameter they need to select. If this parameter/quantity containing the posterior predictive replications is named `yRep` then you would use

```
deploy_shinystan(sso, appDir = "Desktop/shinyStanApps", appName = "MyModel", account = "username", ppcheck_data = y, ppcheck_yrep = "yRep")
```


If the deployment process is successful the url for your app will be printed to the console and it should open in your web browser. You can also view your app by going to http://www.shinyapps.io and logging into your account.

The only limit to the number of shinyStan apps you can deploy is the limit set by RStudio for[your type of ShinyApps account](https://www.shinyapps.io/#pricing).  